import { describe, expect, it } from 'vitest';
import { createTranslator, localeMessages, type TranslationKey } from './index';

const keys: Array<{ key: TranslationKey; params?: Record<string, any> }> = [
    { key: 'catalog.seo.listName', params: { category: 'Shoes' } },
    { key: 'catalog.seo.documentTitle', params: { category: 'Shoes', query: 'red' } },
    { key: 'catalog.seo.pageTitle', params: { category: 'Shoes', query: 'red', brand: 'Shop' } },
    { key: 'catalog.seo.description', params: { category: 'Shoes', query: 'red' } },
    { key: 'catalog.seo.breadcrumbHome' },
    { key: 'catalog.seo.breadcrumbCatalog' },
    { key: 'catalog.header.title' },
    { key: 'catalog.header.categoryPlaceholder' },
    { key: 'catalog.header.allCategories' },
    { key: 'catalog.header.sort.new' },
    { key: 'catalog.header.sort.priceAsc' },
    { key: 'catalog.header.sort.priceDesc' },
    { key: 'catalog.filters.searchPlaceholder' },
    { key: 'catalog.filters.priceMinPlaceholder' },
    { key: 'catalog.filters.priceMaxPlaceholder' },
    { key: 'catalog.filters.applyPrice' },
    { key: 'catalog.filters.clearAll' },
    { key: 'catalog.filters.active.color', params: { value: 'Red' } },
    { key: 'catalog.filters.active.size', params: { value: 'M' } },
    { key: 'catalog.filters.active.minPrice', params: { value: 100 } },
    { key: 'catalog.filters.active.maxPrice', params: { value: 200 } },
    { key: 'catalog.filters.active.clearTooltip' },
    { key: 'catalog.filters.active.clearAll' },
    { key: 'catalog.filters.facets.categories' },
    { key: 'catalog.filters.facets.colors' },
    { key: 'catalog.filters.facets.sizes' },
    { key: 'catalog.filters.facets.empty' },
    { key: 'catalog.products.empty' },
    { key: 'catalog.cards.noImage' },
    { key: 'catalog.cards.outOfStock' },
    { key: 'catalog.cards.adding' },
    { key: 'catalog.cards.addToCart' },
    { key: 'catalog.pagination.prev' },
    { key: 'catalog.pagination.next' },
    { key: 'catalog.pagination.pageStatus', params: { page: 1, lastPage: 5 } },
    { key: 'order.confirmation.loading' },
    { key: 'order.confirmation.notFound' },
    { key: 'order.confirmation.seoTitle', params: { number: '123', brand: 'Shop' } },
    { key: 'order.confirmation.title', params: { number: '123' } },
    { key: 'order.confirmation.confirmationNotice', params: { email: 'test@example.com' } },
    { key: 'order.confirmation.paymentPending' },
    { key: 'order.confirmation.chat.open' },
    { key: 'order.confirmation.chat.close' },
    { key: 'order.confirmation.shipping.title' },
    { key: 'order.confirmation.shipping.trackingNumber' },
    { key: 'order.confirmation.shipping.pending' },
    { key: 'order.confirmation.billing.title' },
    { key: 'order.confirmation.billing.taxIdLabel' },
    { key: 'order.confirmation.table.product' },
    { key: 'order.confirmation.table.quantity' },
    { key: 'order.confirmation.table.price' },
    { key: 'order.confirmation.table.total' },
    { key: 'order.confirmation.table.viewProduct' },
    { key: 'order.confirmation.table.vendor' },
    { key: 'order.confirmation.table.contactSeller' },
    { key: 'order.confirmation.table.subtotal' },
    { key: 'order.confirmation.table.coupon' },
    { key: 'order.confirmation.table.discount' },
    { key: 'order.confirmation.table.loyalty' },
    { key: 'order.confirmation.table.loyaltyValue', params: { amount: 'â‚¬10' } },
    { key: 'order.confirmation.table.amountDue' },
    { key: 'order.confirmation.cta.continue' },
    { key: 'order.confirmation.payment.title' },
    { key: 'order.confirmation.payment.description' },
    { key: 'auth.shared.loading' },
    { key: 'auth.shared.processing' },
    { key: 'auth.register.title' },
    { key: 'auth.register.nameLabel' },
    { key: 'auth.register.emailLabel' },
    { key: 'auth.register.passwordLabel' },
    { key: 'auth.register.passwordConfirmationLabel' },
    { key: 'auth.register.submit' },
    { key: 'auth.register.haveAccount' },
    { key: 'auth.register.signInLink' },
    { key: 'auth.register.passwordMismatch' },
    { key: 'auth.register.errorFallback' },
    { key: 'auth.login.title' },
    { key: 'auth.login.emailLabel' },
    { key: 'auth.login.passwordLabel' },
    { key: 'auth.login.forgotPassword' },
    { key: 'auth.login.submit' },
    { key: 'auth.login.noAccount' },
    { key: 'auth.login.registerLink' },
    { key: 'auth.login.errorFallback' },
    { key: 'auth.login.otpRequired' },
    { key: 'auth.login.otpLabel' },
    { key: 'auth.login.otpPlaceholder' },
    { key: 'auth.login.otpHelp' },
    { key: 'wishlist.title' },
    { key: 'wishlist.clear' },
    { key: 'wishlist.loading' },
    { key: 'wishlist.errorTitle' },
    { key: 'wishlist.empty' },
    { key: 'wishlist.removeAria', params: { name: 'Widget' } },
    { key: 'wishlist.noImage' },
    { key: 'product.seo.pageTitle', params: { name: 'Widget', price: '$100', brand: 'Shop' } },
    { key: 'product.seo.fallbackTitle', params: { brand: 'Shop' } },
    { key: 'product.seo.description', params: { name: 'Widget', price: '$100', inStock: true } },
    { key: 'product.seo.fallbackDescription' },
    { key: 'product.seo.breadcrumbHome' },
    { key: 'product.seo.breadcrumbCatalog' },
    { key: 'product.gallery.noImage' },
    { key: 'product.gallery.openImage', params: { index: 2 } },
    { key: 'product.reviews.summary.loading' },
    { key: 'product.reviews.ariaLabel' },
    { key: 'product.reviews.title' },
    { key: 'product.reviews.summary.label' },
    { key: 'product.reviews.summary.of', params: { max: 5 } },
    { key: 'product.reviews.summary.empty' },
    { key: 'product.reviews.loading' },
    { key: 'product.reviews.empty' },
    { key: 'product.reviews.anonymous' },
    { key: 'product.reviews.ratingLabel', params: { value: 4, max: 5 } },
    { key: 'product.reviews.pending' },
    { key: 'product.stock.available', params: { count: 3 } },
    { key: 'product.stock.unavailable' },
    { key: 'product.actions.addToCart' },
    { key: 'product.actions.backToCatalog' },
    { key: 'product.toasts.added.title' },
    { key: 'product.toasts.added.action' },
    { key: 'product.toasts.added.error' },
    { key: 'product.tabs.description' },
    { key: 'product.tabs.specs' },
    { key: 'product.tabs.delivery' },
    { key: 'product.description.empty' },
    { key: 'product.specs.empty' },
    { key: 'product.delivery.items.novaPoshta' },
    { key: 'product.delivery.items.courier' },
    { key: 'product.delivery.items.payment' },
    { key: 'product.delivery.items.returns' },
    { key: 'product.ratingStars.option', params: { value: 2, max: 5 } },
    { key: 'product.ratingStars.hint', params: { value: 3, max: 5 } },
    { key: 'product.similar.count', params: { count: 4 } },
    { key: 'product.reviewForm.ariaLabel' },
    { key: 'product.reviewForm.title' },
    { key: 'product.reviewForm.authPromptPrefix' },
    { key: 'product.reviewForm.authPromptLogin' },
    { key: 'product.reviewForm.authPromptMiddle' },
    { key: 'product.reviewForm.authPromptRegister' },
    { key: 'product.reviewForm.authPromptSuffix' },
    { key: 'product.reviewForm.formErrorUnauthenticated' },
    { key: 'product.reviewForm.successTitle' },
    { key: 'product.reviewForm.successDescription' },
    { key: 'product.reviewForm.errorFallback' },
    { key: 'product.reviewForm.errorTitle' },
    { key: 'product.reviewForm.ratingLabel' },
    { key: 'product.reviewForm.commentLabel' },
    { key: 'product.reviewForm.commentPlaceholder' },
    { key: 'product.reviewForm.submitting' },
    { key: 'product.reviewForm.submit' },
    { key: 'notify.cart.add.success' },
    { key: 'notify.cart.add.action' },
    { key: 'notify.cart.add.outOfStock' },
    { key: 'notify.cart.add.error' },
    { key: 'notify.cart.update.success' },
    { key: 'notify.cart.update.outOfStock' },
    { key: 'notify.cart.update.error' },
    { key: 'notify.cart.remove.success' },
    // Profile navigation
    { key: 'profile.navigation.overview' },
    { key: 'profile.navigation.orders' },
    { key: 'profile.navigation.addresses' },
    { key: 'profile.navigation.points' },
    // Profile overview
    { key: 'profile.overview.loading' },
    { key: 'profile.overview.title' },
    { key: 'profile.overview.welcome', params: { name: 'Guest' } },
    { key: 'profile.overview.guestName' },
    { key: 'profile.overview.personalDataTitle' },
    { key: 'profile.overview.verification.title' },
    { key: 'profile.overview.verification.description' },
    { key: 'profile.overview.verification.resend.sending' },
    { key: 'profile.overview.verification.resend.action' },
    { key: 'profile.overview.verification.successFallback' },
    { key: 'profile.overview.verification.errorFallback' },
    { key: 'profile.overview.form.labels.name' },
    { key: 'profile.overview.form.labels.email' },
    { key: 'profile.overview.form.labels.newPassword' },
    { key: 'profile.overview.form.labels.confirmPassword' },
    { key: 'profile.overview.form.placeholders.name' },
    { key: 'profile.overview.form.placeholders.email' },
    { key: 'profile.overview.form.placeholders.newPassword' },
    { key: 'profile.overview.form.placeholders.confirmPassword' },
    { key: 'profile.overview.form.hintPasswordOptional' },
    { key: 'profile.overview.form.hintApplyImmediately' },
    { key: 'profile.overview.form.submit.saving' },
    { key: 'profile.overview.form.submit.save' },
    { key: 'profile.overview.info.id' },
    { key: 'profile.overview.info.name' },
    { key: 'profile.overview.info.email' },
    { key: 'profile.overview.info.verified' },
    { key: 'profile.overview.info.verifiedYes' },
    { key: 'profile.overview.info.verifiedNo' },
    { key: 'profile.overview.session.tokenNote' },
    { key: 'profile.overview.session.logout.processing' },
    { key: 'profile.overview.session.logout.action' },
    { key: 'profile.overview.session.logout.error' },
    { key: 'profile.overview.notifications.updateSuccess' },
    { key: 'profile.overview.errors.update' },
    { key: 'profile.overview.errors.loadTwoFactorStatus' },
    { key: 'profile.overview.errors.startTwoFactor' },
    { key: 'profile.overview.errors.confirmTwoFactor' },
    { key: 'profile.overview.errors.disableTwoFactor' },
    { key: 'profile.overview.errors.resendVerification' },
    { key: 'profile.overview.twoFactor.title' },
    { key: 'profile.overview.twoFactor.statusLabel' },
    { key: 'profile.overview.twoFactor.status.enabled' },
    { key: 'profile.overview.twoFactor.status.pending' },
    { key: 'profile.overview.twoFactor.status.disabled' },
    { key: 'profile.overview.twoFactor.confirmedAtLabel' },
    { key: 'profile.overview.twoFactor.description' },
    { key: 'profile.overview.twoFactor.loadingStatus' },
    { key: 'profile.overview.twoFactor.secret.title' },
    { key: 'profile.overview.twoFactor.secret.instructions' },
    { key: 'profile.overview.twoFactor.secret.openApp' },
    { key: 'profile.overview.twoFactor.confirm.codeLabel' },
    { key: 'profile.overview.twoFactor.confirm.codePlaceholder' },
    { key: 'profile.overview.twoFactor.confirm.helper' },
    { key: 'profile.overview.twoFactor.confirm.submit' },
    { key: 'profile.overview.twoFactor.confirm.submitting' },
    { key: 'profile.overview.twoFactor.confirm.cancel' },
    { key: 'profile.overview.twoFactor.callouts.pendingSetup' },
    { key: 'profile.overview.twoFactor.enable.action' },
    { key: 'profile.overview.twoFactor.enable.loading' },
    { key: 'profile.overview.twoFactor.disable.action' },
    { key: 'profile.overview.twoFactor.disable.confirm' },
    { key: 'profile.overview.twoFactor.messages.enabled' },
    { key: 'profile.overview.twoFactor.messages.disabled' },
    { key: 'profile.overview.twoFactor.messages.emptyCode' },
    // Profile orders
    { key: 'profile.orders.loading' },
    { key: 'profile.orders.title' },
    { key: 'profile.orders.description' },
    { key: 'profile.orders.error' },
    { key: 'profile.orders.table.loading' },
    { key: 'profile.orders.table.empty.description' },
    { key: 'profile.orders.table.empty.cta' },
    { key: 'profile.orders.table.headers.number' },
    { key: 'profile.orders.table.headers.date' },
    { key: 'profile.orders.table.headers.status' },
    { key: 'profile.orders.table.headers.total' },
    { key: 'profile.orders.table.headers.actions' },
    { key: 'profile.orders.table.view' },
    // Profile addresses
    { key: 'profile.addresses.loading' },
    { key: 'profile.addresses.title' },
    { key: 'profile.addresses.description' },
    { key: 'profile.addresses.error' },
    { key: 'profile.addresses.list.loading' },
    { key: 'profile.addresses.list.empty' },
    { key: 'profile.addresses.list.defaultName' },
    { key: 'profile.addresses.list.fields.city' },
    { key: 'profile.addresses.list.fields.address' },
    { key: 'profile.addresses.list.fields.postalCode' },
    { key: 'profile.addresses.list.fields.phone' },
    // Profile points
    { key: 'profile.points.loading' },
    { key: 'profile.points.title' },
    { key: 'profile.points.description' },
    { key: 'profile.points.error' },
    { key: 'profile.points.stats.balance' },
    { key: 'profile.points.stats.earned' },
    { key: 'profile.points.stats.spent' },
    { key: 'profile.points.table.loading' },
    { key: 'profile.points.table.empty' },
    { key: 'profile.points.table.headers.date' },
    { key: 'profile.points.table.headers.description' },
    { key: 'profile.points.table.headers.type' },
    { key: 'profile.points.table.headers.amount' },
    { key: 'profile.points.table.type.default' },
    { key: 'profile.points.table.type.earn' },
    { key: 'profile.points.table.type.redeem' },
    { key: 'profile.points.type.default' },
    { key: 'profile.points.type.earn' },
    { key: 'profile.points.type.redeem' },
];

describe('i18n new keys', () => {
    for (const [lang, messages] of Object.entries(localeMessages)) {
        const translator = createTranslator(messages);
        describe(`lang ${lang}`, () => {
            for (const { key, params } of keys) {
                it(`provides translation for ${key}`, () => {
                    const result = params ? translator(key as any, params) : translator(key as any);
                    expect(result).toBeTypeOf('string');
                    expect(result.length).toBeGreaterThan(0);
                });
            }
        });
    }
});
